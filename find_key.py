'''This works only in python2 version '''

import sys

if len(sys.argv) == 4:
	file_original = open(sys.argv[2],'rb')
	file_encrypted = open(sys.argv[1],'rb')
	
	original_data = file_original.read()
	encrypted_data = file_encrypted.read()
	
	key_len = int(sys.argv[3])
	key = ''
	for i in range(0,key_len):
		if i != key_len-1:
			key = key + hex(ord(encrypted_data[i])^ord(original_data[i])) + ", "
		else:
			key = key + hex(ord(encrypted_data[i])^ord(original_data[i]))

	print "\n New file with key_found_%s.txt created." % str(sys.argv[3])
	open("key_found_" + str(sys.argv[3]) + ".txt", "wb").write("[" + key + "]")

	file_original.close()
	file_encrypted.close()

else:
	print "Usage: python filename encrypted_file original_file key_size\n"